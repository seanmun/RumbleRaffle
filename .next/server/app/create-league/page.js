(()=>{var e={};e.id=819,e.ids=[819],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},2071:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d});var a=r(260),s=r(8203),n=r(5155),l=r.n(n),o=r(7292),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let d=["",{children:["create-league",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9040)),"/Users/seanmun/Documents/Github/RumbleRaffle/src/app/create-league/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1354)),"/Users/seanmun/Documents/Github/RumbleRaffle/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/seanmun/Documents/Github/RumbleRaffle/src/app/create-league/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/create-league/page",pathname:"/create-league",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},307:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},5963:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,7174,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},3991:()=>{},7135:()=>{},2791:(e,t,r)=>{Promise.resolve().then(r.bind(r,9040))},4463:(e,t,r)=>{Promise.resolve().then(r.bind(r,1068))},9334:(e,t,r)=>{"use strict";var a=r(8686);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},1068:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(5512),s=r(8009),n=r(9334);function l(){let e=(0,n.useRouter)(),[t,r]=(0,s.useState)(1),[l,o]=(0,s.useState)(""),[i,d]=(0,s.useState)(2),[u,c]=(0,s.useState)([]),[m,p]=(0,s.useState)(0),[g,b]=(0,s.useState)(!1),h="http://localhost:4000",x=(e,t,r)=>{let a=[...u];"name"===t?a[e].name=r:a[e].entrants=Number(r),c(a)},f=async t=>{if(t.preventDefault(),b(!0),0!==m){alert(`Total entrants must be exactly 30. Adjust by ${m>0?"adding":"removing"} ${Math.abs(m)} entrants.`),b(!1);return}try{console.log("\uD83D\uDCE1 Sending Create League Request to:",`${h}/create-league`);let t=await fetch(`${h}/create-league`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueName:l,participants:u})}),r=await t.json();console.log("✅ Response from Server:",r),r.leagueId?(localStorage.setItem("currentLeagueId",r.leagueId),localStorage.setItem("currentParticipants",JSON.stringify(u)),alert(`League Created! ID: ${r.leagueId}`),e.push(`/raffle-room?leagueId=${r.leagueId}`)):alert("⚠️ Error creating league. Please try again.")}catch(e){console.error("\uD83D\uDEA8 Create League Failed:",e),alert("⚠️ Network error. Please check the console for details.")}b(!1)};return(0,a.jsxs)("main",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-6",children:[1===t&&(0,a.jsxs)("div",{className:"w-96 bg-gray-800 p-6 rounded-lg shadow-lg",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-yellow-400 mb-4",children:"Create a League"}),(0,a.jsxs)("label",{className:"block mb-4",children:["League Name:",(0,a.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded",required:!0})]}),(0,a.jsxs)("label",{className:"block mb-4",children:["Number of Participants:",(0,a.jsx)("input",{type:"number",value:i,onChange:e=>d(Number(e.target.value)),className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded",required:!0,min:"2",max:"30"})]}),(0,a.jsx)("button",{onClick:()=>{if(!l.trim()){alert("Please enter a league name.");return}if(i<2||i>30){alert("Number of participants must be between 2 and 30.");return}r(2)},className:"w-full bg-blue-600 text-white py-2 rounded mt-4 hover:bg-blue-500",children:"Next"})]}),2===t&&(0,a.jsxs)("form",{onSubmit:f,className:"w-96 bg-gray-800 p-6 rounded-lg shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-yellow-400 mb-4",children:"Assign Entrants"}),(0,a.jsxs)("div",{className:"bg-gray-700 text-gray-300 p-3 rounded-md mb-4 text-sm",children:[(0,a.jsxs)("p",{children:["Each participant has been automatically assigned ",(0,a.jsx)("b",{children:Math.floor(30/i)})," entrants."]}),(0,a.jsxs)("p",{children:["There are ",(0,a.jsx)("b",{children:m})," entrants left to distribute. Adjust as needed."]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-[3fr_1fr] gap-4 text-gray-400 text-sm mb-2",children:[(0,a.jsx)("span",{children:"Participants"}),(0,a.jsx)("span",{children:"Entrants"})]}),u.map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-[3fr_1fr] gap-4 mb-2",children:[(0,a.jsx)("input",{type:"text",value:e.name,onChange:e=>x(t,"name",e.target.value),className:"p-2 bg-gray-700 border border-gray-600 rounded w-full",required:!0}),(0,a.jsx)("select",{value:e.entrants,onChange:e=>x(t,"entrants",e.target.value),className:"p-2 bg-gray-700 border border-gray-600 rounded w-full",children:[...Array(30).keys()].map(e=>(0,a.jsx)("option",{value:e+1,children:e+1},e+1))})]},t)),(0,a.jsxs)("p",{className:`mt-4 text-sm ${0===m?"text-green-400":"text-red-400"}`,children:["Entrants Assigned: ",30-m," / 30"]}),(0,a.jsx)("button",{type:"submit",className:`w-full py-2 rounded mt-4 transition ${g?"bg-gray-600 cursor-not-allowed":"bg-green-600 hover:bg-green-500"}`,disabled:g,children:g?"Creating...":"Create League"})]})]})}},9040:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/seanmun/Documents/Github/RumbleRaffle/src/app/create-league/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/seanmun/Documents/Github/RumbleRaffle/src/app/create-league/page.tsx","default")},1354:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>i});var a=r(2740),s=r(2202),n=r.n(s),l=r(4988),o=r.n(l);r(1135);let i={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:`${n().variable} ${o().variable} antialiased`,children:e})})}},440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(8077);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},1135:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,619,77],()=>r(2071));module.exports=a})();